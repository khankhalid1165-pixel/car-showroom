{% extends 'base.html' %}
{% load static %}

{% block title %}Car Showroom - Home{% endblock %}

{% block extra_head %}
<style>
    .hero-section {
        text-align: center;
        margin-bottom: 40px;
        padding: 40px 20px;
        background: linear-gradient(135deg, #0077b6 0%, #0096c7 100%);
        color: white;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    .stats-container {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        justify-content: center;
        margin-bottom: 50px;
    }
    .stat-card {
        flex: 1;
        min-width: 250px;
        padding: 30px;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        background: white;
        border: 1px solid #e0e0e0;
    }
    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0,0,0,0.15);
    }
    .stat-number {
        font-size: 2.5rem;
        font-weight: bold;
        margin: 10px 0;
    }
    .stat-card:nth-child(1) .stat-number { color: #0077b6; }
    .stat-card:nth-child(2) .stat-number { color: #0096c7; }
    .stat-card:nth-child(3) .stat-number { color: #00b4d8; }
    .action-buttons {
        text-align: center;
        margin-top: 50px;
        padding: 30px;
        background: #f8f9fa;
        border-radius: 15px;
    }
    .btn {
        display: inline-block;
        padding: 12px 30px;
        margin: 0 10px;
        background: #0077b6;
        color: white;
        text-decoration: none;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s ease;
        border: 2px solid #0077b6;
    }
    .btn:hover {
        background: white;
        color: #0077b6;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0,119,182,0.3);
    }
    .btn-secondary {
        background: #6c757d;
        border-color: #6c757d;
    }
    .btn-secondary:hover {
        background: white;
        color: #6c757d;
    }
    .btn-print {
        background: #28a745;
        border-color: #28a745;
    }
    .btn-print:hover {
        background: white;
        color: #28a745;
    }
    .welcome-text {
        font-size: 1.2rem;
        margin-bottom: 20px;
        opacity: 0.9;
    }
    .hero-title {
        font-size: 3rem;
        margin-bottom: 20px;
        font-weight: 700;
    }
    @media print {
        .no-print {
            display: none !important;
        }
        .stat-card {
            box-shadow: none;
            border: 2px solid #000;
            break-inside: avoid;
        }
        .hero-section {
            background: white !important;
            color: black !important;
            box-shadow: none;
            border: 2px solid #000;
        }
        .btn {
            display: none;
        }
    }
    @media (max-width: 768px) {
        .stats-container {
            flex-direction: column;
        }
        .stat-card {
            min-width: auto;
        }
        .hero-title {
            font-size: 2rem;
        }
        .btn {
            display: block;
            margin: 10px auto;
            width: 200px;
        }
    }
</style>
{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: auto; padding: 20px;">
    <!-- Welcome / Hero Section -->
    <div class="hero-section">
        <h1 class="hero-title">Welcome to Our Car Showroom</h1>
        <p class="welcome-text">Discover premium vehicles, exceptional service, and unbeatable prices</p>
        <div style="margin-top: 20px;">
            <span style="background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px; font-size: 0.9rem;">
                üèÜ Premium Car Dealership
            </span>
        </div>
    </div>

    <!-- Stats Section -->
    <div class="stats-container">
        <div class="stat-card">
            <div style="font-size: 3rem; margin-bottom: 10px;">üöó</div>
            <h3>Total Cars</h3>
            <div class="stat-number">{{ total_cars }}</div>
            <p style="color: #666; margin: 0;">Available in inventory</p>
        </div>

        <div class="stat-card">
            <div style="font-size: 3rem; margin-bottom: 10px;">üë•</div>
            <h3>Total Customers</h3>
            <div class="stat-number">{{ total_customers }}</div>
            <p style="color: #666; margin: 0;">Happy customers served</p>
        </div>

        <div class="stat-card">
            <div style="font-size: 3rem; margin-bottom: 10px;">üí∞</div>
            <h3>Total Sales</h3>
            <div class="stat-number">{{ total_sales }}</div>
            <p style="color: #666; margin: 0;">Successful transactions</p>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="action-buttons">
        <h2 style="color: #0077b6; margin-bottom: 30px;">Quick Actions</h2>
        <div>
            <a href="{% url 'inventory' %}" class="btn">View Inventory</a>
            <a href="{% url 'customers' %}" class="btn btn-secondary">View Customers</a>
            <a href="{% url 'sales' %}" class="btn btn-secondary">View Sales</a>
            <button onclick="window.print()" class="btn btn-print no-print">Print Report</button>
            <a href="/admin/" class="btn no-print" style="background: #6f42c1; border-color: #6f42c1;">Admin Panel</a>
        </div>
    </div>

    <!-- Additional Info Section -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 50px;">
        <div style="background: #e8f4f8; padding: 25px; border-radius: 10px; text-align: center;">
            <div style="font-size: 2.5rem; margin-bottom: 15px;">‚≠ê</div>
            <h3 style="color: #0077b6;">Premium Quality</h3>
            <p>All vehicles undergo rigorous quality checks and come with comprehensive warranties.</p>
        </div>
        <div style="background: #f0f8f0; padding: 25px; border-radius: 10px; text-align: center;">
            <div style="font-size: 2.5rem; margin-bottom: 15px;">üîß</div>
            <h3 style="color: #28a745;">Expert Service</h3>
            <p>Our team of automotive experts ensures you get the best advice and after-sales support.</p>
        </div>
        <div style="background: #fff8e8; padding: 25px; border-radius: 10px; text-align: center;">
            <div style="font-size: 2.5rem; margin-bottom: 15px;">üèÜ</div>
            <h3 style="color: #fd7e14;">Award Winning</h3>
            <p>Recognized as the best car dealership in the region for customer satisfaction.</p>
        </div>
    </div>
</div>

<!-- Print Section (Hidden by default) -->
<div id="printSection" style="display: none;">
    <div style="text-align: center; padding: 20px; border-bottom: 2px solid #000; margin-bottom: 30px;">
        <h1>Car Showroom - Status Report</h1>
        <p>Generated on: <span id="printDate"></span></p>
    </div>
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px;">
        <div style="border: 2px solid #000; padding: 20px; text-align: center;">
            <h3>Total Cars</h3>
            <div style="font-size: 2rem; font-weight: bold;">{{ total_cars }}</div>
        </div>
        <div style="border: 2px solid #000; padding: 20px; text-align: center;">
            <h3>Total Customers</h3>
            <div style="font-size: 2rem; font-weight: bold;">{{ total_customers }}</div>
        </div>
        <div style="border: 2px solid #000; padding: 20px; text-align: center;">
            <h3>Total Sales</h3>
            <div style="font-size: 2rem; font-weight: bold;">{{ total_sales }}</div>
        </div>
    </div>
    <div style="margin-top: 30px; text-align: center;">
        <p><strong>Car Showroom Management System</strong></p>
        <p>Contact: info@carshowroom.com | Phone: (555) 123-4567</p>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Set print date
        const now = new Date();
        document.getElementById('printDate').textContent = now.toLocaleDateString() + ' ' + now.toLocaleTimeString();
        
        // Enhanced hover effects
        const statCards = document.querySelectorAll('.stat-card');
        statCards.forEach(card => {
            card.addEventListener('mouseover', function() {
                this.style.transform = 'translateY(-10px)';
            });
            card.addEventListener('mouseout', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Print functionality
        window.beforePrint = function() {
            document.getElementById('printSection').style.display = 'block';
        };
        
        window.afterPrint = function() {
            document.getElementById('printSection').style.display = 'none';
        };

        // Add event listeners for print
        window.addEventListener('beforeprint', beforePrint);
        window.addEventListener('afterprint', afterPrint);
    });

    // Enhanced print function
    function printReport() {
        window.print();
    }

    // Add some interactive effects
    document.querySelectorAll('.btn').forEach(button => {
        button.addEventListener('click', function(e) {
            // Add ripple effect
            const ripple = document.createElement('span');
            const rect = this.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;
            
            ripple.style.cssText = `
                position: absolute;
                border-radius: 50%;
                background: rgba(255,255,255,0.5);
                transform: scale(0);
                animation: ripple 0.6s linear;
                width: ${size}px;
                height: ${size}px;
                left: ${x}px;
                top: ${y}px;
            `;
            
            this.style.position = 'relative';
            this.style.overflow = 'hidden';
            this.appendChild(ripple);
            
            setTimeout(() => {
                ripple.remove();
            }, 600);
        });
    });

    // Add CSS for ripple effect
    const style = document.createElement('style');
    style.textContent = `
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
    `;
    document.head.appendChild(style);
</script>
{% endblock %}